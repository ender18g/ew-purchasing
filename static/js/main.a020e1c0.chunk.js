(this["webpackJsonpew-purchasing"]=this["webpackJsonpew-purchasing"]||[]).push([[2],{118:function(e,t,a){},119:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var c=a(160),n=a(0),r=a(92),i=a.n(r),s=a(162),o=a(96),l=a(11),d=a(10),j=a(5),b=a(142),u=a(155),h=a(143),m=a(151),O=a(100),x=(a(44),a(12)),p=a(144),g=a(147),f=a(163),C=a(148),y=a(161),v=a(153),w=a(150),S=a(152),P=a(3);function N(e){var t=e.data,a=(e.setData,e.handleChange),c=e.handleCheck,n=e.addItem,r=e.addOrder,i=e.status,s=e.numItems,o=e.orderTotal,l=e.fireKey,d=e.type;return Object(P.jsxs)(b.a,{children:[Object(P.jsxs)(h.a,{m:"2",justifyContent:"center",children:[Object(P.jsx)(p.a,{isRequired:!0,onChange:a,name:"account"===d?"accountName":"orderTitle",width:"800px",value:"account"===d?t.accountName:t.orderTitle,placeholder:"Summary of Order and Use",errorBorderColor:"crimson",isInvalid:"account"===d?!t.accountName:!t.orderTitle,mx:"1"}),Object(P.jsx)(p.a,{onChange:a,name:"budgetPSC",width:"150px",value:t.budgetPSC,placeholder:"PSC",isInvalid:!t.budgetPSC,mx:"1"})]}),Object(P.jsxs)(h.a,{m:"3",justifyContent:"center",flexWrap:{base:"wrap",md:"nowrap"},children:[Object(P.jsx)(p.a,{onChange:a,name:"requestor",width:"800px",value:t.requestor,placeholder:"Requestor",isInvalid:!t.requestor,mx:"1",isReadOnly:"new"===d}),Object(P.jsx)(p.a,{onChange:a,name:"requestorPhone",type:"tel ",width:"300px",value:t.requestorPhone,placeholder:"Requestor Phone",isInvalid:!t.requestorPhone,mx:"1"}),Object(P.jsx)(p.a,{type:"date",onChange:a,name:"date",width:"300px",value:t.date,placeholder:"Date",isInvalid:!t.date,mx:"1"})]}),Object(P.jsxs)(h.a,{m:"3",justifyContent:"center",flexWrap:{base:"wrap",md:"nowrap"},children:[Object(P.jsx)(p.a,{onChange:a,name:"merchant",width:"600px",value:t.merchant,placeholder:"Merchant",isInvalid:!t.merchant,mx:"1"}),Object(P.jsx)(p.a,{onChange:a,name:"merchantPOC",width:"800px",value:t.merchantPOC,placeholder:"Merchant POC/Website",isInvalid:!t.merchantPOC,mx:"1"}),Object(P.jsx)(p.a,{onChange:a,name:"merchantPhone",type:"tel",width:"300px",value:t.merchantPhone,placeholder:"Merchant Phone (Optional)"})]}),Object(P.jsx)(g.a,{my:"5"}),Array.from(Array(s),(function(e,c){return Object(P.jsxs)(h.a,{my:{base:"6",md:"1"},justifyContent:"center",flexWrap:{base:"wrap",md:"nowrap"},children:[Object(P.jsxs)(f.a,{w:"600px",children:[Object(P.jsx)(C.a,{children:c+1}),Object(P.jsx)(p.a,{onChange:a,name:"desc".concat(c+1),value:t["desc".concat(c+1)],placeholder:"Item ".concat(c+1," description")})]}),Object(P.jsx)(p.a,{onChange:a,name:"qty".concat(c+1),width:"150px",value:t["qty".concat(c+1)],placeholder:"Quantity",type:"number",min:"0",max:"10000",step:"1"}),Object(P.jsxs)(f.a,{width:"200px",children:[Object(P.jsx)(C.a,{children:"$"}),Object(P.jsx)(p.a,{onChange:a,name:"unitPrice".concat(c+1),value:t["unitPrice".concat(c+1)],placeholder:"Unit Price",min:"0",max:"10000",step:".01"})]}),Object(P.jsxs)(f.a,{width:"200px",children:[Object(P.jsx)(C.a,{children:"Total $"}),Object(P.jsx)(p.a,{name:"unitPrice".concat(c+1),value:t["unitPrice".concat(c+1)]*t["qty".concat(c+1)]?(t["unitPrice".concat(c+1)]*t["qty".concat(c+1)]).toFixed(2):"-",bg:"gray.50",isReadOnly:!0})]})]},c)})),Object(P.jsxs)(h.a,{my:"5",justifyContent:"space-around",flexWrap:{base:"wrap",lg:"nowrap"},children:[Object(P.jsx)(O.a,{my:"2",colorScheme:"gray",onClick:n,children:"+ Add Item"}),Object(P.jsxs)(f.a,{my:"2",width:"300px",children:[Object(P.jsx)(C.a,{children:"Shipping $"}),Object(P.jsx)(p.a,{onChange:a,name:"estShipping",value:t.estShipping,placeholder:"Estimated Shipping",isInvalid:!t.estShipping})]}),Object(P.jsxs)(f.a,{my:"2",width:"300px",children:[Object(P.jsx)(C.a,{children:"Total Purchase $"}),Object(P.jsx)(p.a,{isReadOnly:!0,bg:"gray.50",value:o.toFixed(2)})]})]}),Object(P.jsxs)(h.a,{m:"3",justifyContent:"center",children:[Object(P.jsx)(p.a,{onChange:a,name:"costCtrPOC",width:"800px",value:t.costCtrPOC,placeholder:"Cost Center Head Name",isInvalid:!t.costCtrPOC,mx:"1"}),Object(P.jsx)(p.a,{onChange:a,name:"budgetPOC",width:"800px",value:t.budgetPOC,placeholder:"Authorizing Official Name",isInvalid:!t.budgetPOC,mx:"1"})]}),Object(P.jsxs)(h.a,{mx:"3",justifyContent:"center",children:[Object(P.jsx)(p.a,{onChange:a,name:"costCtrEmail",width:"800px",value:t.costCtrEmail,placeholder:"Cost Center Email",isInvalid:!t.costCtrEmail,mx:"1"}),Object(P.jsx)(p.a,{onChange:a,name:"budgetPOCEmail",width:"800px",value:t.budgetPOCEmail,placeholder:"Authorizing Official Email",isInvalid:!t.budgetPOCEmail,mx:"1"})]}),Object(P.jsxs)(h.a,{m:"3",justifyContent:"center",flexWrap:{base:"wrap",lg:"nowrap"},children:[Object(P.jsx)(y.a,{mx:"4",colorScheme:"red",name:"itprYesNo",isChecked:t.itprYesNo,onChange:c,children:"ITPR Required"}),Object(P.jsx)(y.a,{mx:"4",colorScheme:"red",name:"accPropYesNo",isChecked:t.accPropYesNo,onChange:c,children:"Accountable Property Required"}),Object(P.jsx)(y.a,{mx:"4",colorScheme:"red",name:"hazmatYesNo",isChecked:t.hazmatYesNo,onChange:c,children:"Hazmat"}),Object(P.jsx)(y.a,{mx:"3",colorScheme:"green",name:"giftYesNo",isChecked:t.giftYesNo,onChange:c,children:"Gift Funds"}),Object(P.jsx)(p.a,{onChange:a,name:"giftAct",width:"200px",value:t.giftAct,placeholder:"Gift Account Code",isInvalid:!t.giftAct,mx:"1"}),Object(P.jsx)(p.a,{onChange:a,name:"giftLtr",width:"200px",value:t.giftLtr,placeholder:"Gift Letter Code",isInvalid:!t.giftLtr,mx:"1"})]}),Object(P.jsxs)(h.a,{my:"5",justifyContent:"center",children:[Object(P.jsxs)(O.a,{mx:"2",isDisabled:e.disableSubmit,colorScheme:i?"teal":"blue",onClick:r,children:[i&&Object(P.jsx)(w.a,{mx:"2"}),i?"Submitted":"Submit"]}),Object(P.jsx)(m.a,{style:{textDecoration:"none"},isExternal:!0,href:"/pdf/pdf.html?fireKey=".concat(l),children:Object(P.jsxs)(O.a,{mx:"2",isDisabled:!l,colorScheme:"teal",children:[Object(P.jsx)(S.a,{mx:"2"}),"Generate PDF"]})})]}),Object(P.jsx)(v.a,{align:"center",children:i})]})}a(133);var k=function(e){var t=e.setFileURL,a=e.subfolder,c=Object(n.useState)(),r=Object(j.a)(c,2),i=(r[0],r[1]),s=Object(n.useState)(),o=Object(j.a)(s,2),l=(o[0],o[1]),d=Object(x.f)();return Object(P.jsx)(b.a,{p:"1",children:Object(P.jsxs)(f.a,{children:[Object(P.jsx)(C.a,{children:"Upload ".concat(a)}),Object(P.jsx)(p.a,{mx:"1",type:"file",accept:".pdf",onChange:function(e){var c=e.target.files[0],n=d.ref("documents").child(a).child(c.name);i(n);var r=n.put(c);l(n.put(c)),r.then((function(){console.log("upload complete"),n.getDownloadURL().then((function(e){console.log(e),t(e)})),l()}))}})]})})},I=a(149),R=a(154);function A(e){var t=e.setSelection,a=Object(x.c)().ref("889"),c=Object(x.d)(a),r=c.status,i=c.data,s=Object(n.useState)({url:""}),o=Object(j.a)(s,2),l=o[0],d=o[1];if("loading"===r)return Object(P.jsx)(I.a,{});var b=function(e){var t=new Date,a=t.getFullYear(),c=(new Date).setFullYear(a,10,1);t-c<0&&(c=(new Date).setFullYear(a-1,10,1));var n=e-c;return!(Math.ceil(n/864e5)<0)};return Object(P.jsxs)(h.a,{alignItems:"center",children:[Object(P.jsx)(R.a,{onChange:function(e){var a=i[e.target.value];console.log(a),d(a),t(a)},mx:"1",variant:"outline",placeholder:"Select Vendor 889",children:Object.keys(i).map((function(e,t){if("object"===typeof i[e])return Object(P.jsxs)("option",{value:e,children:[i[e].vendor,"\xa0\xa0\xa0",i[e].date,b(i[e].dateObject)?"  \u2705 ":"  \u274c"]},e)}))}),Object(P.jsx)(m.a,{style:{textDecoration:"none"},isExternal:!0,href:l.url,children:Object(P.jsx)(O.a,{isDisabled:!l.url,colorScheme:"teal",m:"1",children:"Download 889"})})]})}function q(e){var t=e.handleAccount,a=Object(x.c)().ref("accounts"),c=Object(x.d)(a),n=c.status,r=c.data;if("loading"===n)return Object(P.jsx)(I.a,{});return Object(P.jsx)(R.a,{maxWidth:"500px",onChange:function(e){var a=e.target.value,c=r[a];t(Object(d.a)(Object(d.a)({},c),{},{accountKey:a}))},mx:"1",variant:"outline",placeholder:"Select Account",children:Object.keys(r).map((function(t,a){if("object"===typeof r[t])return Object(P.jsx)("option",{value:t,selected:e.accountKey===t,children:r[t].accountName},t)}))})}function F(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(4),s=Object(j.a)(i,2),o=s[0],p=s[1],g=Object(n.useState)(0),f=Object(j.a)(g,2),C=f[0],y=f[1],v=Object(n.useState)(e.fireKey||!1),w=Object(j.a)(v,2),S=w[0],I=w[1],R=Object(x.e)(),F=(R.signinStatus,R.data),E=Object(n.useState)(""),D=Object(j.a)(E,2),T=D[0],L=D[1],z=Object(n.useState)({orderTitle:"",budgetPSC:"",giftYesNo:"",costCtrPOC:"",costCtrEmail:"",budgetPOCEmail:"",budgetPOC:"",giftLtr:"",giftAct:"",merchantFormURL:"",quoteURL:"",accountKey:"",accountName:"",orderTotal:0,estShipping:""}),W=Object(j.a)(z,2),U=W[0],K=W[1];Object(n.useEffect)((function(){for(var e=0,t=1;t<25;t++){if(!isNaN(U["qty".concat(t)])&&!isNaN(U["unitPrice".concat(t)]))e+=Number(U["qty".concat(t)])*Number(U["unitPrice".concat(t)])}isNaN(U.estShipping)||(e+=Number(U.estShipping)),y(e)}),[U]),Object(n.useEffect)((function(){e.data&&(K(e.data),p(e.data.numItems))}),[]),Object(n.useEffect)((function(){console.log("**User**",F),"new"==e.type&&K(Object(d.a)(Object(d.a)({},U),{},{requestor:F.user.displayName,requestorEmail:F.user.email}))}),[]);var Y=Object(x.c)().ref("orders"),H=function(){var e={quoteURL:"Upload a PDF quote",merchantFormURL:"Select an 889 form",orderTitle:"Give your order a title",date:"Select a date",desc1:"Include at least one item",qty1:"Provide quantity of item",unitPrice1:"Provide item price",estShipping:"Provide Estimate Shipping",requestor:"Provide requestor full name",budgetPSC:"Provide budget PSC",budgetPOC:"Provide budget POC"};for(var t in e)if(!U[t])return e[t];return!1};return Object(P.jsxs)(b.a,{my:"6",mx:{base:"3",xl:"20"},borderRadius:"md",py:"10",px:{base:"1",xl:"20"},border:"2px",borderColor:"gray.100",shadow:"md",children:[Object(P.jsx)(u.a,{fontWeight:"200",letterSpacing:".1em",size:"lg",align:"center",children:U.orderTitle||"Create Your Order"}),Object(P.jsxs)(h.a,{bg:"gray.100",flexWrap:{base:"wrap",lg:"nowrap"},justifyContent:"space-around",alignItems:"center",borderRadius:"md",my:"10",mx:"2",children:[Object(P.jsx)(h.a,{border:U.accountName?"0px":"2px",borderColor:"red.500",borderRadius:"md",m:"1",w:"500px",children:Object(P.jsx)(q,{handleAccount:function(e){console.log("Handling Account:",e),K(Object(d.a)(Object(d.a)({},U),e))},accountKey:U.accountKey})}),Object(P.jsx)(h.a,{border:U.quoteURL?"0px":"2px",borderColor:"red.500",borderRadius:"md",m:"1",w:"500px",children:Object(P.jsx)(k,{setFileURL:function(e){K(Object(d.a)(Object(d.a)({},U),{},{quoteURL:e}))},subfolder:"Quote"})}),Object(P.jsx)(h.a,{border:U.merchantFormURL?"0px":"2px",borderColor:"red.500",borderRadius:"md",m:"1",w:"500px",children:Object(P.jsx)(A,{setSelection:function(e){console.log(e),K(Object(d.a)(Object(d.a)({},U),{},{merchant:e.vendor,merchantFormURL:e.url}))}})})]}),Object(P.jsx)(N,{data:U,setData:K,handleChange:function(e){K(Object(d.a)(Object(d.a)({},U),{},Object(l.a)({},e.target.name,e.target.value))),r(!1),console.log(U),L("")},handleCheck:function(e){K(Object(d.a)(Object(d.a)({},U),{},Object(l.a)({},e.target.name,e.target.checked&&"checked"))),r(!1)},addItem:function(){p(o+1)},addOrder:function(){var t,a=H();a?L(a):((t=e.fireKey?Y.child(e.fireKey):Y.push()).set(Object(d.a)(Object(d.a)({},U),{},{orderTotal:C,numItems:o,estShipping:parseFloat(U.estShipping).toFixed(2)})),r(!0),I(t._delegate._path.pieces_[1]))},status:c,numItems:o,orderTotal:C,fireKey:S,disableSubmit:!!H()}),Object(P.jsx)(u.a,{textAlign:"center",size:"lg",textColor:"red",fontWeight:"600",children:T}),"review"===e.type&&Object(P.jsxs)(h.a,{mt:"1",justifyContent:"center",children:[Object(P.jsx)(m.a,{m:"1",isExternal:!0,style:{textDecoration:"none"},href:U.quoteURL,children:Object(P.jsx)(O.a,{children:"Review Quote"})}),Object(P.jsx)(m.a,{m:"1",isExternal:!0,style:{textDecoration:"none"},href:U.merchantFormURL,children:Object(P.jsx)(O.a,{children:"Review 889"})}),Object(P.jsx)(m.a,{m:"1",isExternal:!0,style:{textDecoration:"none"},href:function(){var e=U.costCtrPOC.split(" ")[0],t=U.costCtrEmail,a=U.budgetPSC.split(" ")[1],c="mailto:".concat(t,"?cc=").concat(U.requestorEmail);return c+="&subject=New ".concat(a," order"),c+="&body=".concat(e,","),c+="%0A%0AAttached is a PCO, quote and 889 for ".concat(U.orderTitle,". These items are being charged against our FY21 WRC allocation of the ").concat(U.budgetPSC," spend plan."),c+="%0AThe net total of these purchases is $".concat(U.orderTotal," including $").concat(U.estShipping," in shipping. This brings our estimated ").concat(a," Fund allocation balance down to [ACCOUNT BALANCE] "),c+="%0A%0A-Mike"}(),children:Object(P.jsx)(O.a,{children:"Create Email"})})]})]})}var E=a(156),D=a(157),T=a(158);function L(){var e=Object(x.c)().ref("orders"),t=Object(n.useState)({show:!1,data:!1,key:!1}),a=Object(j.a)(t,2),c=a[0],r=a[1],i=Object(x.d)(e),s=i.status,o=i.data;if("loading"===s)return Object(P.jsx)(I.a,{});return console.log(o),Object(P.jsxs)(b.a,{m:"5",children:[Object(P.jsx)(u.a,{fontWeight:"200",letterSpacing:".1em",size:"lg",align:"center",children:"Order Review"}),Object(P.jsx)(h.a,{my:"5",w:"100%",children:Object(P.jsxs)(E.a,{size:"sm",colorScheme:"facebook",children:[Object(P.jsx)(E.b,{fontSize:"md",children:"Click on a row to review order details "}),Object(P.jsx)(E.f,{children:Object(P.jsxs)(E.g,{children:[Object(P.jsx)(E.e,{display:{base:"none",md:"revert"},children:"Title"}),Object(P.jsx)(E.e,{children:"Date"}),Object(P.jsx)(E.e,{children:"Requestor"}),Object(P.jsx)(E.e,{display:{base:"none",md:"revert"},children:"Merchant"}),Object(P.jsx)(E.e,{children:"Total"})]})}),Object(P.jsx)(E.c,{children:Object.keys(o).map((function(e){return e.length<13?"":Object(P.jsxs)(E.g,{onClick:function(){r({show:!1}),setTimeout((function(){r({show:!0,data:o[e],key:e})}),100)},className:"tableRow",bg:c.key===e&&"blue.100",children:[Object(P.jsx)(E.d,{display:{base:"none",md:"revert"},children:o[e].orderTitle}),Object(P.jsx)(E.d,{children:o[e].date}),Object(P.jsx)(E.d,{children:o[e].requestor}),Object(P.jsx)(E.d,{display:{base:"none",md:"revert"},children:o[e].merchant}),Object(P.jsxs)(E.d,{children:["$",o[e].orderTotal.toFixed(2)]})]},e)}))})]})}),c.show&&Object(P.jsx)(h.a,{justifyContent:"center",children:Object(P.jsx)(O.a,{colorScheme:"teal",onClick:function(){return r(Object(d.a)(Object(d.a)({},c),{},{show:!1}))},children:"Hide Order Form"})}),c.show&&Object(P.jsxs)(b.a,{my:"6",children:[Object(P.jsxs)(h.a,{alignItems:"center",justifyContent:"center",children:[Object(P.jsxs)(O.a,{mx:"2",colorScheme:"red",onClick:function(){return t=c.key,e.child(t).remove(),console.log("removed ".concat(t)),void r({show:!1});var t},children:[Object(P.jsx)(D.a,{className:"icon",mx:"2"}),"Delete Order"]}),Object(P.jsxs)(O.a,{mx:"2",colorScheme:"teal",onClick:function(){r({show:!1}),setTimeout((function(){r({show:!0,data:Object(d.a)(Object(d.a)({},o[c.key]),{},{orderTitle:"Duplicate Order"}),key:!1})}),100)},children:[Object(P.jsx)(T.a,{className:"icon",mx:"2"}),"Copy Order"]})]}),Object(P.jsx)(F,{data:c.data,fireKey:c.key,type:"review"})]}),Object(P.jsx)(h.a,{justifyContent:"center",children:Object(P.jsx)(m.a,{color:"teal",href:"https://ew-purchasing-default-rtdb.firebaseio.com/orders.json",children:"Firebase JSON"})})]})}a(118);function z(e){return Object(n.useEffect)((function(){document.querySelector("#Home").classList.add("colorize")}),[]),Object(P.jsx)(b.a,{id:"Home",className:"Home",children:Object(P.jsxs)("div",{className:"text-box",children:[Object(P.jsx)(v.a,{className:"heading-primary",children:"WRC"}),Object(P.jsx)(v.a,{className:"heading-secondary",children:"Purchasing Portal"}),e.message&&Object(P.jsx)(v.a,{color:"whte",className:"heading-message",children:e.message})]})})}var W=a(164),U=a.p+"static/media/WRCLogo.b3c6aac4.png",K=(a(102),a(159),a(82),a(40)),Y=(a(119),a(94)),H=a.n(Y),_=function(){return Object(P.jsx)("div",{className:"animate-pulse",children:Object(P.jsx)("span",{children:"Loading..."})})},G=function(e){var t=e.children,a=e.fallback,c=Object(x.e)(),n=c.status,r=c.data;if(!t)throw new Error("Children must be provided");return"loading"===n?Object(P.jsx)(_,{}):!0===r.signedIn?t:a},V=function(e){var t=e.user,a=Object(x.b)();return Object(P.jsxs)(h.a,{alignItems:"center",justifyContent:"center",children:[Object(P.jsx)(O.a,{size:"sm",mx:"2",colorScheme:"whiteAlpha",onClick:function(){return function(e){return e.signOut().then((function(){return console.log("signed out")}))}(a)},children:"Sign Out"}),Object(P.jsx)(W.a,{borderRadius:"full",boxSize:"35px",src:t.photoURL,alt:t.displayName})]})},$=function(){var e=x.b,t={signInFlow:"popup",signInOptions:[e.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!0}}};return Object(P.jsx)(H.a,{uiConfig:t,firebaseAuth:e()})},B=function(){var e=Object(x.e)(),t=e.status,a=e.data;if("loading"===t)return Object(P.jsx)(_,{});var c=a.signedIn,n=a.user;return console.log(n),!0===c?Object(P.jsx)(V,{user:n}):Object(P.jsx)($,{})},M=function(e){return Object(P.jsxs)(h.a,{boxShadow:"lg",justify:"space-between",align:"center",bg:"blue.700",paddingX:2,paddingY:1,w:"100%",children:[Object(P.jsxs)(h.a,{justify:"center",align:"center",children:[Object(P.jsx)(h.a,{display:{base:"none",md:"flex"},children:Object(P.jsx)(W.a,{className:"nav-logo",boxSize:"40px",src:U})}),Object(P.jsx)(u.a,{mx:"5",fontWeight:"300",textAlign:"right",letterSpacing:".2em",color:"white",size:"md",display:{base:"none",md:"flex"},children:"WRC Purchasing"})]}),Object(P.jsxs)(h.a,{justifyContent:"space-around",alignItems:"center",flexWrap:"wrap",children:[Object(P.jsx)(K.b,{w:"100px",className:"header-link",to:"/",children:Object(P.jsx)(v.a,{mx:{base:"1",md:"5"},fontSize:"md",children:"Home"})}),Object(P.jsx)(K.b,{w:"100px",className:"header-link",to:"/form",children:Object(P.jsx)(v.a,{mx:{base:"1",md:"5"},fontSize:"md",children:"Order"})}),Object(P.jsx)(K.b,{w:"100px",className:"header-link",to:"/vendor",children:Object(P.jsx)(v.a,{mx:{base:"1",md:"5"},fontSize:"md",children:"Vendors"})}),Object(P.jsx)(K.b,{w:"100px",className:"header-link",to:"/accounts",children:Object(P.jsx)(v.a,{mx:{base:"1",md:"5"},fontSize:"md",children:"Accounts"})}),Object(P.jsx)(K.b,{w:"100px",className:"header-link",to:"/review",children:Object(P.jsx)(v.a,{mx:{base:"1",md:"5"},fontSize:"md",children:"Review"})}),Object(P.jsx)(B,{})]})]})},Q=a(18);a(131),a(77);function Z(){var e=Object(x.c)().ref("889"),t=Object(n.useState)(""),a=Object(j.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(!1),s=Object(j.a)(i,2),o=s[0],g=s[1],y=Object(n.useState)({vendor:""}),v=Object(j.a)(y,2),w=v[0],S=v[1],N=function(e){S(Object(d.a)(Object(d.a)({},w),{},Object(l.a)({},e.target.name,e.target.value)))},I=function(e){var t=e.split("-");return(new Date).setFullYear(t[0],t[1],t[2])};return Object(P.jsxs)(b.a,{my:"6",mx:{base:"3",xl:"20"},borderRadius:"md",py:"10",px:{base:"1",xl:"20"},border:"2px",borderColor:"gray.100",shadow:"md",children:[Object(P.jsx)(u.a,{my:"4",fontWeight:"200",letterSpacing:".1em",size:"lg",align:"center",children:"Approved Vendors"}),Object(P.jsx)(b.a,{children:Object(P.jsx)(u.a,{my:"2",size:"md",fontWeight:"400",children:"View existing 889 forms:"})}),Object(P.jsx)(h.a,{justifyContent:"left",children:Object(P.jsx)(A,{setSelection:function(e){return console.log(e)}})}),Object(P.jsxs)(b.a,{my:"10",children:[Object(P.jsx)(u.a,{my:"2",size:"md",fontWeight:"400",children:"Upload a new form:"}),Object(P.jsxs)(h.a,{justifyContent:"left",flexWrap:{base:"wrap",md:"nowrap"},children:[Object(P.jsx)(p.a,{onChange:N,name:"vendor",width:"800px",value:w.vendor,placeholder:"Vendor Name",mx:"1"}),Object(P.jsxs)(f.a,{children:[Object(P.jsx)(C.a,{children:"Date Signed:"}),Object(P.jsx)(p.a,{type:"date",onChange:N,name:"date",width:"300px",value:w.date,placeholder:"Date Signed",mx:"1"})]})]}),Object(P.jsx)(h.a,{m:"1",w:"500px",children:Object(P.jsx)(k,{setFileURL:r,subfolder:"889"})}),Object(P.jsx)(O.a,{isDisabled:!c,colorScheme:o?"teal":"blue",m:"1",onClick:function(){e.push().set(Object(d.a)(Object(d.a)({},w),{},{url:c,dateObject:I(w.date)})),g(!0)},children:o?"Added":"Add New 889"})]}),Object(P.jsx)(u.a,{my:"2",size:"md",fontWeight:"400",children:"Vendor not listed?"}),Object(P.jsx)(m.a,{color:"teal",isExternal:!0,href:"https://firebasestorage.googleapis.com/v0/b/ew-purchasing.appspot.com/o/documents%2F889_Representation_Form_-_31_Aug_20.pdf?alt=media&token=f2fb09fe-cb26-4dd7-aa77-afb1ab070751",children:"Download a Blank 889 Form (Fillable PDF)"})]})}function J(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(4),s=Object(j.a)(i,2),o=s[0],m=s[1],O=Object(n.useState)(0),p=Object(j.a)(O,2),g=p[0],f=p[1],C=Object(n.useState)(e.fireKey||!1),y=Object(j.a)(C,2),v=y[0],w=y[1],S=Object(x.e)(),k=S.signinStatus,I=S.data,R=Object(n.useState)(""),A=Object(j.a)(R,2),F=A[0],E=A[1],D=Object(n.useState)({orderTitle:"Account Name",budgetPSC:"",giftYesNo:"",costCtrPOC:"",budgetPOC:"",giftLtr:"",giftAct:""}),T=Object(j.a)(D,2),L=T[0],z=T[1];Object(n.useEffect)((function(){console.log("Data Changed",L);for(var e=0,t=1;t<25;t++)isNaN(L["qty".concat(t)])||isNaN(L["unitPrice".concat(t)])||(e+=L["qty".concat(t)]*L["unitPrice".concat(t)]);isNaN(L.estShipping)||(e+=Number(L.estShipping)),f(e)}),[L]),Object(n.useEffect)((function(){e.data&&(z(e.data),m(e.data.numItems))}),[]),Object(n.useEffect)((function(){console.log("**User**",k),"new"===e.type&&z(Object(d.a)(Object(d.a)({},L),{},{requestor:I.user.displayName,requestorEmail:I.user.email}))}),[]);var W=Object(x.c)().ref("accounts"),U=function(){var e={accountName:"Give your account a name",budgetPSC:"Provide budget PSC",budgetPOC:"Provide budget POC",giftLtr:"Provid Gift Letter",giftAct:"Provid Gift Account Number"};for(var t in e)if(!L[t])return console.log("need",e[t]),e[t];return!1};return Object(P.jsxs)(b.a,{children:[Object(P.jsx)(h.a,{m:"4",justifyContent:"center",children:Object(P.jsx)(q,{handleAccount:function(e){console.log("Handling Account:",e),z(e)}})}),Object(P.jsxs)(b.a,{my:"6",mx:{base:"3",xl:"20"},borderRadius:"md",py:"10",px:{base:"1",xl:"20"},border:"2px",borderColor:"gray.100",shadow:"md",children:[Object(P.jsx)(u.a,{fontWeight:"200",letterSpacing:".1em",size:"lg",align:"center",children:L.orderTitle||"New Account Name"}),Object(P.jsx)(N,{data:L,setData:z,handleChange:function(e){z(Object(d.a)(Object(d.a)({},L),{},Object(l.a)({},e.target.name,e.target.value))),r(!1),console.log(L),E("")},handleCheck:function(e){z(Object(d.a)(Object(d.a)({},L),{},Object(l.a)({},e.target.name,e.target.checked&&"checked"))),r(!1)},addItem:function(){m(o+1)},addOrder:function(){var t,a=U();a?E(a):((t=e.fireKey?W.child(e.fireKey):W.push()).set(Object(d.a)(Object(d.a)({},L),{},{orderTotal:g,numItems:o})),r(!0),w(t._delegate._path.pieces_[1]))},status:c,numItems:o,orderTotal:g,fireKey:v,disableSubmit:!!U(),type:"account"}),Object(P.jsx)(u.a,{textAlign:"center",size:"lg",textColor:"red",fontWeight:"600",children:F})]})]})}var X="Please Login";var ee=function(){return Object(P.jsxs)(s.a,{theme:o.theme,children:[Object(P.jsx)(M,{}),Object(P.jsxs)(Q.c,{children:[Object(P.jsx)(Q.a,{exact:!0,path:"/",component:z}),Object(P.jsx)(Q.a,{exact:!0,path:"/form",render:function(){return Object(P.jsx)(G,{fallback:Object(P.jsx)(z,{message:X}),children:Object(P.jsx)(F,{type:"new"})})}}),Object(P.jsx)(Q.a,{exact:!0,path:"/vendor",render:function(){return Object(P.jsx)(G,{fallback:Object(P.jsx)(z,{message:X}),children:Object(P.jsx)(Z,{})})}}),Object(P.jsx)(Q.a,{exact:!0,path:"/review",render:function(){return Object(P.jsx)(G,{fallback:Object(P.jsx)(z,{message:X}),children:Object(P.jsx)(L,{})})}}),Object(P.jsx)(Q.a,{exact:!0,path:"/accounts",render:function(){return Object(P.jsx)(G,{fallback:Object(P.jsx)(z,{message:X}),children:Object(P.jsx)(J,{})})}})]})]})},te=function(e){e&&e instanceof Function&&a.e(10).then(a.bind(null,169)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(P.jsxs)(x.a,{firebaseConfig:{apiKey:"AIzaSyC-IH4GiQKEh5qtZZV72VzZHHbZKPI6sFw",authDomain:"ew-purchasing.firebaseapp.com",projectId:"ew-purchasing",storageBucket:"ew-purchasing.appspot.com",messagingSenderId:"41829733165",appId:"1:41829733165:web:844f4c511d472d71f8b9a4",measurementId:"G-9KFHP8FPE2"},children:[Object(P.jsx)(c.a,{}),Object(P.jsx)(K.a,{children:Object(P.jsx)(ee,{})})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),te()}},[[132,3,4]]]);
//# sourceMappingURL=main.a020e1c0.chunk.js.map